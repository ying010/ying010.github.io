# 国际化

Spring Boot的web starter中已经涵盖了所需的基础组件，所以使用Spring Boot的web项目无需另加依赖。

## 创建语言包

在项目的源文件目录增加语言包目录，一般设置为`i18n/messages.properties`。增加语言时需要增加`messages_NewLanguage.properties`。

目录结构如下：

```
--\resources

	--\i18n

		--messages.properties

		--messages_en_US.properties
```

:::tips

IDEA中可以将所有语言配置文件设置为一个资源包，这样编辑时可以同时修改，防止漏编辑。

IDEA中设置完资源包后路径如下：

![image-20230222193837733](https://raw.githubusercontent.com/ying010/pic-repo/master/img/2023/02/24/20230224112205.png)

编辑时打开任意一个`.properties`文件，就可以选择编辑资源包，此时右侧会显示出当前条目在所有语言包中的设置：

![image-20230222194011412](https://raw.githubusercontent.com/ying010/pic-repo/master/img/2023/02/24/20230224112212.png)

:::

## Spring Boot配置

### 1.配置`application.yml`

在`.yml`中加入如下配置：

```yaml
spring:  
  messages:
  	#设置语言包路径，具体路径由自己设置的语言包决定
    basename: i18n/messages
    encoding: UTF-8
    #设置是否使用系统语言，设置为false时默认走messages.properties
    fallback-to-system-locale: false
```

`application.properties`设置与之相同。

### 2.配置LocaleChangeInterceptor拦截器

`LocaleChangeInterceptor`拦截器
